<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ•´åˆè¨ˆç®—å™¨-ç´”æ·¨æ’åºç‰ˆ</title>
    <style>
        body { font-family: -apple-system, sans-serif; background-color: #f4f4f9; padding: 10px; color: #333; }
        .card { max-width: 500px; margin: 0 auto; background: white; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); overflow: hidden; }
        .header { background: #e63946; color: white; padding: 15px; text-align: center; }
        .tabs { display: flex; background: #eee; overflow-x: auto; white-space: nowrap; -webkit-overflow-scrolling: touch; }
        .tab { flex: 0 0 auto; padding: 12px 20px; text-align: center; cursor: pointer; font-weight: bold; transition: 0.3s; color: #666; }
        .tab.active { background: white; color: #e63946; border-bottom: 3px solid #e63946; }
        .content { padding: 20px; display: none; }
        .content.active { display: block; }
        .item-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px solid #eee; }
        input[type="number"] { width: 65px; padding: 8px; border: 1px solid #ddd; border-radius: 5px; text-align: center; font-size: 1.1em; }
        button { width: 100%; padding: 15px; background: #e63946; color: white; border: none; border-radius: 8px; font-size: 1.1em; cursor: pointer; margin-top: 10px; }
        .result-box { margin-top: 20px; padding: 15px; background: #fff5f5; border-radius: 10px; border-left: 5px solid #e63946; display: none; }
        .res-item { display: flex; justify-content: space-between; margin-bottom: 8px; border-bottom: 1px dashed #fcdada; padding-bottom: 5px; }
        h3 { margin-top: 0; color: #e63946; }
    </style>
</head>
<body>

<div class="card">
    <div class="header"><h2>ğŸ›’ é®®è‚‰äº­æ¡è³¼è¨ˆç®—</h2></div>
    
    <div class="tabs">
        <div class="tab active" onclick="openTab(event, 'menu1')">æ­¸æ¨¸ç«é‹</div>
        <div class="tab" onclick="openTab(event, 'menu2')">æ­¸æ¨¸çƒ¤è‚‰</div>
        <div class="tab" onclick="openTab(event, 'menuA')">è‡ªå®šç¾© A</div>
        <div class="tab" onclick="openTab(event, 'menuB')">è‡ªå®šç¾© B</div>
        <div class="tab" onclick="openTab(event, 'menuC')">è‡ªå®šç¾© C</div>
    </div>

    <div id="menu1" class="content active">
        <div class="item-row"><span>2äººå…¨è±¬</span><input type="number" id="m1_1" placeholder="æ•¸é‡" min="0"></div>
        <div class="item-row"><span>4äººç‰›è±¬</span><input type="number" id="m1_2" placeholder="æ•¸é‡" min="0"></div>
        <div class="item-row"><span>4äººå…¨è±¬</span><input type="number" id="m1_3" placeholder="æ•¸é‡" min="0"></div>
        <button onclick="calculateM1()">è¨ˆç®—ç«é‹é£Ÿæ</button>
        <div id="res1" class="result-box"><h3>ğŸ“‹ æ‡‰æº–å‚™æ¸…å–®ï¼š</h3><div id="list1"></div></div>
    </div>

    <div id="menu2" class="content">
        <div class="item-row"><span>2äººå…¨è±¬</span><input type="number" id="m2_1" placeholder="æ•¸é‡" min="0"></div>
        <div class="item-row"><span>2äººç‰›è±¬</span><input type="number" id="m2_2" placeholder="æ•¸é‡" min="0"></div>
        <div class="item-row"><span>4äººå…¨è±¬</span><input type="number" id="m2_3" placeholder="æ•¸é‡" min="0"></div>
        <div class="item-row"><span>4äººç‰›è±¬</span><input type="number" id="m2_4" placeholder="æ•¸é‡" min="0"></div>
        <button onclick="calculateM2()">è¨ˆç®—çƒ¤è‚‰é£Ÿæ</button>
        <div id="res2" class="result-box"><h3>ğŸ“‹ æ‡‰æº–å‚™æ¸…å–®ï¼š</h3><div id="list2"></div></div>
    </div>

    <div id="menuA" class="content">
        <div class="item-row"><span>è‡ªè¨‚å“é … 01</span><input type="number" id="mA_1" placeholder="æ•¸é‡" min="0"></div>
        <button onclick="calculateMA()">è¨ˆç®—è‡ªå®šç¾© A</button>
        <div id="resA" class="result-box"><div id="listA"></div></div>
    </div>
    <div id="menuB" class="content">
        <div class="item-row"><span>å–®é»è‚‰å“ 01</span><input type="number" id="mB_1" placeholder="æ•¸é‡" min="0"></div>
        <button onclick="calculateMB()">è¨ˆç®—è‡ªå®šç¾© B</button>
        <div id="resB" class="result-box"><div id="listB"></div></div>
    </div>
    <div id="menuC" class="content">
        <div class="item-row"><span>ç¯€æ…¶æ´»å‹•çµ„ 01</span><input type="number" id="mC_1" placeholder="æ•¸é‡" min="0"></div>
        <button onclick="calculateMC()">è¨ˆç®—è‡ªå®šç¾© C</button>
        <div id="resC" class="result-box"><div id="listC"></div></div>
    </div>
</div>

<script>
function openTab(evt, tabName) {
    var contents = document.getElementsByClassName("content");
    for (var i = 0; i < contents.length; i++) contents[i].className = contents[i].className.replace(" active", "");
    var tabs = document.getElementsByClassName("tab");
    for (var i = 0; i < tabs.length; i++) tabs[i].className = tabs[i].className.replace(" active", "");
    document.getElementById(tabName).className += " active";
    evt.currentTarget.className += " active";
}

function showResult(resId, listId, s, order) {
    const list = document.getElementById(listId);
    list.innerHTML = "";
    let hasData = false;
    for (const name of order) {
        const qty = s[name];
        if (qty > 0) {
            list.innerHTML += `<div class="res-item"><span>${name}</span> <b>${qty} åŒ…/ä»½</b></div>`;
            hasData = true;
        }
    }
    document.getElementById(resId).style.display = hasData ? 'block' : 'none';
    if(!hasData) alert("è«‹è¼¸å…¥æ•¸é‡ï¼");
}

// æ­¸æ¨¸ç«é‹ (ç¶­æŒä¸Šä¸€æ¬¡ä¿®æ”¹å¾Œçš„ç‹€æ…‹)
function calculateM1() {
    const v1 = parseInt(document.getElementById('m1_1').value) || 0;
    const v2 = parseInt(document.getElementById('m1_2').value) || 0;
    const v3 = parseInt(document.getElementById('m1_3').value) || 0;
    const s = {};
    const add = (n, q) => s[n] = (s[n] || 0) + q;
    const order = ["å’Œç‰›100å…‹", "ç‰›äº”èŠ±å·ç‰‡400å…‹", "è±¬äº”èŠ±å·ç‰‡400å…‹", "è±¬å«©è‚©æ²ç‰‡300å…‹", "è±¬å«©è‚©æ²ç‰‡400å…‹", "æ¾é˜ªè±¬300å…‹", "æ—¥å¼è…¿ä¸500å…‹", "ç«é‹æ–™", "é®­é­šç«é‹ç‰‡150å…‹", "æµ·é®®ç›¤", "çƒé¾éºµ", "èŠ±ææ¼¿", "æ˜è¦"];
    
    if(v1 > 0) { add("è±¬å«©è‚©æ²ç‰‡300å…‹", v1); add("æ—¥å¼è…¿ä¸500å…‹", v1); add("ç«é‹æ–™", v1); add("é®­é­šç«é‹ç‰‡150å…‹", v1); add("æµ·é®®ç›¤", v1); add("çƒé¾éºµ", v1); }
    if(v2 > 0) { add("å’Œç‰›100å…‹", v2); add("ç‰›äº”èŠ±å·ç‰‡400å…‹", v2); add("è±¬å«©è‚©æ²ç‰‡400å…‹", v2); add("æ—¥å¼è…¿ä¸500å…‹", v2); add("ç«é‹æ–™", v2); add("é®­é­šç«é‹ç‰‡150å…‹", v2); add("æµ·é®®ç›¤", v2); add("çƒé¾éºµ", v2 * 2); add("èŠ±ææ¼¿", v2); add("æ˜è¦", v2); }
    if(v3 > 0) { add("è±¬äº”èŠ±å·ç‰‡400å…‹", v3); add("è±¬å«©è‚©æ²ç‰‡400å…‹", v3); add("æ¾é˜ªè±¬300å…‹", v3); add("æ—¥å¼è…¿ä¸500å…‹", v3); add("ç«é‹æ–™", v3); add("é®­é­šç«é‹ç‰‡150å…‹", v3); add("æµ·é®®ç›¤", v3); add("çƒé¾éºµ", v3 * 2); add("èŠ±ææ¼¿", v3); add("æ˜è¦", v3); }
    showResult('res1', 'list1', s, order);
}

// æ­¸æ¨¸çƒ¤è‚‰ (æ–°å¢åå¸)
function calculateM2() {
    const v1 = parseInt(document.getElementById('m2_1').value) || 0;
    const v2 = parseInt(document.getElementById('m2_2').value) || 0;
    const v3 = parseInt(document.getElementById('m2_3').value) || 0;
    const v4 = parseInt(document.getElementById('m2_4').value) || 0;
    const s = {};
    const add = (n, q) => s[n] = (s[n] || 0) + q;

    // æ›´æ–°æ’åºé †åºï¼Œå°‡åå¸æ”¾åœ¨æœ€å¾Œ
    const order = [
        "è±¬å«©è‚©300g", "è±¬å«©è‚©500g", "ç¾åœ‹æ¿è…±+è±¬å«©è‚©300g", "ç¾åœ‹æ¿è…±400g", 
        "è±¬äº”èŠ±500g", "æ¾é˜ªè±¬150g", "æ¾é˜ªè±¬300g", "ä¾æ¯”ä¾‹è±¬è‚‹æ¢100g", 
        "ä¾æ¯”ä¾‹è±¬è‚‹æ¢200g", "ç‰›è‚‹æ¢150g", "ç‰›è‚‹æ¢250g", "æ™®ç¾…æ—ºæ–¯é›è…¿500g", 
        "æµ·é®®ç›¤", "æ˜è¦", "åå¸"
    ];

    if(v1 > 0) { 
        add("è±¬å«©è‚©300g", v1); add("æ¾é˜ªè±¬150g", v1); add("ä¾æ¯”ä¾‹è±¬è‚‹æ¢100g", v1); 
        add("æ™®ç¾…æ—ºæ–¯é›è…¿500g", v1); add("æµ·é®®ç›¤", v1); add("åå¸", v1);
    }
    if(v2 > 0) { 
        add("ç¾åœ‹æ¿è…±+è±¬å«©è‚©300g", v2); add("æ¾é˜ªè±¬150g", v2); add("ç‰›è‚‹æ¢150g", v2); 
        add("æ™®ç¾…æ—ºæ–¯é›è…¿500g", v2); add("æµ·é®®ç›¤", v2); add("åå¸", v2);
    }
    if(v3 > 0) { 
        add("è±¬å«©è‚©500g", v3); add("è±¬äº”èŠ±500g", v3); add("æ¾é˜ªè±¬300g", v3); 
        add("ä¾æ¯”ä¾‹è±¬è‚‹æ¢200g", v3); add("æ™®ç¾…æ—ºæ–¯é›è…¿500g", v3); add("æµ·é®®ç›¤", v3); 
        add("æ˜è¦", v3); add("åå¸", v3);
    }
    if(v4 > 0) { 
        add("è±¬å«©è‚©500g", v4); add("ç¾åœ‹æ¿è…±400g", v4); add("æ¾é˜ªè±¬300g", v4); 
        add("ç‰›è‚‹æ¢250g", v4); add("æ™®ç¾…æ—ºæ–¯é›è…¿500g", v4); add("æµ·é®®ç›¤", v4); 
        add("æ˜è¦", v4); add("åå¸", v4);
    }
    
    showResult('res2', 'list2', s, order);
}

function calculateMA() {
    const v1 = parseInt(document.getElementById('mA_1').value) || 0;
    const s = {"è‡ªè¨‚é£Ÿæ A": v1};
    showResult('resA', 'listA', s, ["è‡ªè¨‚é£Ÿæ A"]);
}
function calculateMB() {
    const v1 = parseInt(document.getElementById('mB_1').value) || 0;
    const s = {"å–®é»è‚‰å“ 01": v1};
    showResult('resB', 'listB', s, ["å–®é»è‚‰å“ 01"]);
}
function calculateMC() {
    const v1 = parseInt(document.getElementById('mC_1').value) || 0;
    const s = {"ç¯€æ…¶æ´»å‹•çµ„ 01": v1};
    showResult('resC', 'listC', s, ["ç¯€æ…¶æ´»å‹•çµ„ 01"]);
}
</script>
</body>
</html>
